let lafka_defined_polygon_coordinates=[];function lafka_shipping_areas_init_define_area(){const a=new google.maps.Map(document.getElementById("lafka-shipping-areas-admin-define-area-map"),{center:new google.maps.LatLng("0","0"),zoom:2}),e=(lafka_init_polygon_coordinates(),new google.maps.LatLngBounds),n=(lafka_defined_polygon_coordinates.forEach(a=>{e.extend(a)}),new google.maps.Polygon({path:lafka_defined_polygon_coordinates,editable:!0,strokeColor:"#0073ff",strokeOpacity:.8,strokeWeight:3,fillColor:"#0073ff",fillOpacity:.35}));lafka_shipping_areas_define_events(a,n),n.setMap(a),e.isEmpty()||a.fitBounds(e)}function lafka_shipping_areas_define_events(a,n){a.addListener("click",a=>{lafka_add_polygon_coordinate(n,a.latLng)}),n.addListener("click",a=>{if(void 0!==a.vertex){const e=n.getPath();e.removeAt(a.vertex),lafka_update_polygon_path_and_input(n,e)}}),n.getPath().addListener("set_at",()=>{var a=n.getPath();lafka_update_polygon_path_and_input(n,a)}),n.getPath().addListener("insert_at",()=>{var a=n.getPath();lafka_update_polygon_path_and_input(n,a)})}function lafka_add_polygon_coordinate(a,e){const n=a.getPath();n.push(e),lafka_update_polygon_path_and_input(a,n)}function lafka_update_polygon_path_and_input(a,e){a.setPath(e),document.getElementById("lafka_shipping_area_polygon_coordinates").value=google.maps.geometry.encoding.encodePath(a.getPath())}function lafka_init_polygon_coordinates(){lafka_defined_polygon_coordinates=google.maps.geometry.encoding.decodePath(document.getElementById("lafka_shipping_area_polygon_coordinates").value)}window.addEventListener("DOMContentLoaded",function(){lafka_shipping_areas_init_define_area()});