!function(d){"use strict";d(document).ready(function(){{const e=d("#lafka_checkout_date");if(e.length){let l="";const n=d("#lafka_checkout_timeslot"),i={placeholder:lafka_datetime_options.select_time_label,allowClear:!lafka_datetime_options.datetime_mandatory};n.select2(i);var a={minDate:"today",maxDate:(new Date).fp_incr(lafka_datetime_options.days_ahead),enable:lafka_datetime_options.enabled_dates,locale:lafka_datetime_options.flatpickr_locale};const t=e.flatpickr(a);t.config.onChange.push(function(a,e,t){if(a.length){const o=d("body").find(".lafka-checkout-datetime-fields");n.prop("disabled",!0);o.block({message:null,overlayCSS:{background:"#fff",opacity:.6}});a={_ajax_nonce:lafka_datetime_options.nonce,action:"time_slots_for_date",dataType:"json",date:e};d.post(lafka_datetime_options.ajax_url,a,function(a){a.success&&(l=a.data,n.empty(),i.data=l,n.select2(i)),n.prop("disabled",!1),o.unblock()})}}),!lafka_datetime_options.datetime_mandatory&&1!==lafka_datetime_options.enabled_dates.length||t.setDate(lafka_datetime_options.enabled_dates[0],!0),d(".lafka-datetime-clear").on("click",function(){t.clear(),n.val(null).trigger("change")})}}{const o=d(".lafka-checkout-datetime-fields");return void d(".lafka-delivery-time-toggle").on("click",function(){o.toggleClass("hidden")})}})}(window.jQuery);